/* Blog Wide Layout - Full Width Design for Wide Screens */

/* Base layout for all screens */
.article-layout-wrapper {
  width: 100%;
  min-height: 100vh;
}

/* Mobile and tablet layout (< 1024px) */
@media (max-width: 1023px) {
  .article-container {
    max-width: 100%;
    padding: 2rem 1rem;
  }
  
  .article-content {
    max-width: 65ch;
    margin: 0 auto;
  }
  
  .toc-sidebar {
    display: none;
  }
}

/* Desktop layout (1024px - 1919px) - Keep optimal reading width */
@media (min-width: 1024px) and (max-width: 1919px) {
  .article-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 3rem 2rem;
    display: grid;
    grid-template-columns: 1fr 250px;
    gap: 3rem;
  }
  
  .article-content {
    max-width: 65ch;
  }
  
  .toc-sidebar {
    position: sticky;
    top: 6rem;
    height: fit-content;
  }
}

/* WIDE SCREEN LAYOUT (1920px+) - Full width with left TOC */
@media (min-width: 1920px) {
  /* Override base layout completely */
  .article-container {
    display: block !important;
    max-width: 100vw !important;
    width: 100vw !important;
    margin: 0 !important;
    padding: 0 !important;
    grid-template-columns: none !important;
    gap: 0 !important;
  }
  
  /* TOC - Fixed on left edge */
  .toc-sidebar {
    position: fixed !important;
    left: 0 !important;
    top: 5rem !important;
    width: 300px !important;
    height: calc(100vh - 5rem) !important;
    padding: 2rem !important;
    background: rgba(255, 255, 255, 0.98) !important;
    border-right: 1px solid #e5e7eb !important;
    overflow-y: auto !important;
    z-index: 40 !important;
    display: block !important;
    border-radius: 0 !important;
    max-height: none !important;
  }
  
  .dark .toc-sidebar {
    background: rgba(17, 24, 39, 0.98) !important;
    border-right-color: #374151 !important;
  }
  
  /* Content - Full width minus TOC */
  .article-content {
    margin: 0 !important;
    margin-left: 300px !important;
    max-width: none !important;
    width: calc(100vw - 300px) !important;
    padding: 3rem 4rem !important;
    justify-self: stretch !important;
    align-self: stretch !important;
  }
  
  /* Override any grid or flex constraints */
  .article-content,
  .article-content * {
    box-sizing: border-box !important;
  }
  
  /* Prose content should also be full width */
  .prose-container {
    max-width: none !important;
    width: 100% !important;
    margin: 0 !important;
  }
  
  /* But keep readable line length for text */
  .prose-container p,
  .prose-container li {
    max-width: 100ch !important;
  }
  
  /* Images and media can be wider */
  .prose-container img,
  .prose-container video,
  .prose-container iframe {
    max-width: 100% !important;
    width: auto;
    height: auto;
  }
  
  /* Code blocks full width */
  .prose-container pre {
    max-width: 100% !important;
    overflow-x: auto;
  }
  
  /* Tables full width */
  .prose-container table {
    width: 100%;
    max-width: 100% !important;
  }
}

/* Ultra-wide 4K+ (2560px+) */
@media (min-width: 2560px) {
  .toc-sidebar {
    width: 350px !important;
    padding: 2.5rem !important;
  }
  
  .article-content {
    margin-left: 350px !important;
    width: calc(100vw - 350px) !important;
    padding: 4rem 6rem !important;
    font-size: 1.25rem !important;
    line-height: 1.8 !important;
  }
  
  .prose-container {
    font-size: 1.25rem !important;
    line-height: 1.8 !important;
  }
}

/* Remove mobile TOC button on wide screens */
@media (min-width: 1920px) {
  .mobile-toc-toggle {
    display: none !important;
  }
}

/* CRITICAL: Override blog-layout.css constraints for wide screens */
@media (min-width: 1920px) {
  /* Force full width layout by overriding blog-layout.css */
  html .article-container {
    max-width: 100vw !important;
    width: 100vw !important;
    margin: 0 !important;
    padding: 0 !important;
    grid-template-columns: none !important;
    display: block !important;
    gap: 0 !important;
  }
  
  /* Override article content constraints from blog-layout.css */
  html .article-content {
    max-width: none !important;
    width: calc(100vw - 300px) !important;
    margin: 0 !important;
    margin-left: 300px !important;
    padding: 3rem 4rem !important;
    justify-self: stretch !important;
    align-self: stretch !important;
  }
  
  /* Override prose container constraints */
  html .prose-container {
    max-width: none !important;
    width: 100% !important;
    margin: 0 !important;
  }
  
  /* CRITICAL: Override global prose constraints from global.css */
  html .prose-container .prose,
  html .prose-container.prose,
  html .prose {
    max-width: none !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
  
  /* Override any CSS custom property constraints */
  html {
    --content-max-width: none !important;
    --content-wide-max-width: none !important;
    --blog-max-width: 100vw !important;
  }
}

/* Ensure header doesn't interfere with layout */
@media (min-width: 1920px) {
  header.article-header {
    max-width: none !important;
    width: 100% !important;
  }
  
  .article-meta,
  .article-title,
  .article-description,
  .article-taxonomy {
    max-width: none !important;
  }
}

/* Override any lingering max-width constraints */
@media (min-width: 1920px) {
  /* Force override any base layout constraints */
  body .article-container,
  body .article-content,
  body .prose-container {
    max-width: none !important;
  }
  
  /* Override specific elements that might have constraints */
  .article-header,
  .article-meta,
  .article-title,
  .article-description,
  .article-taxonomy,
  .article-footer {
    max-width: none !important;
    width: 100% !important;
  }
  
  /* But keep reasonable line length for text content */
  .prose-container p,
  .prose-container li,
  .prose-container blockquote {
    max-width: 100ch !important;
  }
  
  /* Ensure main content area respects wide layout */
  #main-content {
    max-width: none !important;
    width: 100% !important;
  }
  
  /* Additional specific overrides for common constraint patterns */
  html body .article-container,
  html body .article-content,
  html body .prose-container {
    max-width: none !important;
  }
  
  /* Force override any utility classes */
  html .max-w-none {
    max-width: none !important;
  }
  
  /* Override any element with width constraints in wide layout */
  html .article-content > *,
  html .prose-container > * {
    max-width: 100% !important;
  }
  
  /* But keep text readable by limiting line length */
  html .prose-container p,
  html .prose-container li,
  html .prose-container blockquote {
    max-width: 100ch !important;
  }
}
---
title: "GitHubì— GPG ì„œëª… ì¶”ê°€í•˜ê¸° - ì™„ë²½ ê°€ì´ë“œ"
author: "Jay Lee"
pubDate: "2020-10-07 00:00:00"
categories: ["TechSavvy", "Github"]
tags: ["TechSavvy", "Github", "ProgrammingLanguage", "Security"]
---

## GPGë€?

ì•ˆë…•í•˜ì„¸ìš”! GPGëŠ” GNU Privacy Guardì˜ ì•½ìì´ë©°, PGPë¼ê³ ë„ ë¶ˆë¦½ë‹ˆë‹¤. :D

ìš°ë¶„íˆ¬ì— ê¸°ë³¸ìœ¼ë¡œ í¬í•¨ë˜ì–´ ìˆëŠ” ê°•ë ¥í•œ ì•”í˜¸í™” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤ - ê½¤ í¸ë¦¬í•˜ì£ ?

GitHubëŠ” ì˜¤í”ˆì†ŒìŠ¤ í”Œë«í¼ì´ë¯€ë¡œ ëˆ„êµ¬ë‚˜ ê³µê°œ ì €ì¥ì†Œë¥¼ í´ë¡ í•˜ê³  ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë¹„ê³µê°œ ì €ì¥ì†Œë‚˜ ë¯¼ê°í•œ í”„ë¡œì íŠ¸ì—ì„œ í˜‘ì—…í•  ë•Œ ëˆ„êµ°ê°€ê°€ ë°ì´í„°ë¥¼ ì—¿ë³´ëŠ” ê²ƒì€ ë¶„ëª…íˆ ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ GitHubëŠ” pull requestë¥¼ ë§Œë“¤ ë•Œ GPG ì„œëª…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê°•ë ¥íˆ ê¶Œì¥í•˜ê³ (ë•Œë¡œëŠ” ìš”êµ¬í•©ë‹ˆë‹¤). ì´ëŠ” ì»¤ë°‹ì´ ì •ë§ë¡œ ì—¬ëŸ¬ë¶„ìœ¼ë¡œë¶€í„° ì˜¨ ê²ƒì„ì„ ì¦ëª…í•˜ëŠ” ë””ì§€í„¸ ì„œëª…ì„ ì¶”ê°€í•˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤!

GPG ì„œëª…ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë‹¨ê³„ë³„ë¡œ ì•ˆë‚´í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” ê°„ë‹¨íˆ ì„¤ëª…í•˜ì§€ë§Œ, ë” ìì„¸í•œ ì •ë³´ëŠ” ì•„ë˜ ì°¸ê³  ë§í¬ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.

## 1. GPG í‚¤ ìƒì„±í•˜ê¸°

``` sh
$ gpg --full-generate-key
gpg (GnuPG) 2.2.4; Copyright (C) 2017 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
Your selection? 
```

ì €ëŠ” RSA ì•”í˜¸í™” ë°©ì‹(ê¸°ë³¸ ì˜µì…˜)ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤.

``` sh
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (3072) 4096
Requested keysize is 4096 bits
```

GitHubëŠ” ìµœì†Œ 4096ë¹„íŠ¸ë¥¼ ìš”êµ¬í•˜ë¯€ë¡œ 4096ìœ¼ë¡œ ì„¤ì •í•©ì‹œë‹¤!

``` sh
Please specify how long the key should be valid.
         0 = key does not expire
      <n>  = key expires in n days
      <n>w = key expires in n weeks
      <n>m = key expires in n months
      <n>y = key expires in n years
Key is valid for? (0) 0
```

ì €ëŠ” ê²Œì„ëŸ¬ì„œ ë§Œë£Œë˜ì§€ ì•Šë„ë¡ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ê·¸ëƒ¥ 0ì„ ì…ë ¥í•˜ì„¸ìš”!

``` sh
GnuPG needs to construct a user ID to identify your key.

Real name: Jay Lee
Email address: jayleekr0125@gmail.com
Comment: lol
You selected this USER-ID:
    "Jay Lee (lol) <jayleekr0125@gmail.com>"

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
```

ì´ë¦„, ì´ë©”ì¼ ë° ê¸°íƒ€ ì •ë³´ë¥¼ ì…ë ¥í•œ ë‹¤ìŒ GPG í‚¤ ìƒì„±ì„ ì§„í–‰í•˜ì„¸ìš”.

ì•„, ê·¸ë¦¬ê³  ë¹„ë°€ë²ˆí˜¸ë¥¼ ìŠì§€ ë§ˆì„¸ìš”! ğŸ˜…

## 2. GPG í‚¤ í™•ì¸í•˜ê¸°

``` sh
$ gpg --list-secret-keys --keyid-format LONG
gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
/home/jayleekr/.gnupg/pubring.kbx
---------------------------------
sec   rsa4096/037ED189F6F42EF3 2020-10-08 [SC]
      A95244C509A02D9F0790CFB0037ED189F6F42EF3
uid                 [ultimate] Jay Lee (lol) <jayleekr0125@gmail.com>
ssb   rsa4096/38DDEF7B4E6758A4 2020-10-08 [E]
```

ì—¬ê¸° ì œ GPG í‚¤ ì •ë³´ê°€ ìˆìŠµë‹ˆë‹¤! ì œ GPG í‚¤ IDëŠ” `037ED189F6F42EF3`ì…ë‹ˆë‹¤.

ê³µê°œ í‚¤ ì•”í˜¸í™” íŒŒì¼ì€ `/home/jayleekr/.gnupg/pubring.kbx`ì— ìˆìŠµë‹ˆë‹¤ (SSH í‚¤ì²˜ëŸ¼ ë°±ì—…í•´ë’€ìŠµë‹ˆë‹¤, í•˜í•˜).

ì´ì œ ì´ IDë¥¼ ì‚¬ìš©í•´ì„œ ê³µê°œ í‚¤ë¥¼ ìƒì„±í•´ë´…ì‹œë‹¤!

## 3. ê³µê°œ í‚¤ ìƒì„±í•˜ê¸°

ê³µê°œ í‚¤ë¥¼ ìƒì„±í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ IDë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:

``` sh
$ gpg --armor --export 037ED189F6F42EF3
-----BEGIN PGP PUBLIC KEY BLOCK-----
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
...
...
-----END PGP PUBLIC KEY BLOCK-----
```

ìœ„ì™€ ê°™ì´ BEGINë¶€í„° ENDê¹Œì§€ì˜ ì¶œë ¥ì„ ë°›ê²Œ ë©ë‹ˆë‹¤. ì´ ì „ì²´ ë¸”ë¡ì„ ë³µì‚¬í•´ì„œ GitHub ê°œì¸ ì„¤ì •ì— ë¶™ì—¬ë„£ìœ¼ë©´ ëì…ë‹ˆë‹¤!

## 4. GitHubì— GPG ê³µê°œ í‚¤ ì¶”ê°€í•˜ê¸°

![Desktop View](/assets/img/post/2020-10-08/userbar-account-settings.png)

![Desktop View](/assets/img/post/2020-10-08/settings-sidebar-ssh-keys.png)

![Desktop View](/assets/img/post/2020-10-08/gpg-key-paste.png)

## 5. Gitì— GPG í‚¤ ì•Œë ¤ì£¼ê¸°

ì•ì„œ GPG IDë¥¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤:

``` sh
$ gpg --list-secret-keys --keyid-format LONG
gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
/home/jayleekr/.gnupg/pubring.kbx
---------------------------------
sec   rsa4096/037ED189F6F42EF3 2020-10-08 [SC]
      A95244C509A02D9F0790CFB0037ED189F6F42EF3
uid                 [ultimate] Jay Lee (lol) <jayleekr0125@gmail.com>
ssb   rsa4096/38DDEF7B4E6758A4 2020-10-08 [E]
```

ì´ì œ gitì— ì´ í‚¤ë¥¼ ì•Œë ¤ì¤ì‹œë‹¤:

``` sh
$ git config --global user.signingkey 037ED189F6F42EF3
```

ê·¸ë¦¬ê³  í„°ë¯¸ë„(tty)ì—ë„ ì•Œë ¤ì¤ì‹œë‹¤!

```sh
$ test -r ~/.bash_profile && echo 'export GPG_TTY=$(tty)' >> ~/.bash_profile
$ echo 'export GPG_TTY=$(tty)' >> ~/.profile
```

## 6. GPG ì„œëª…ìœ¼ë¡œ ì»¤ë°‹í•˜ê¸°

ê°„ë‹¨í•©ë‹ˆë‹¤ - `-S` ì˜µì…˜ë§Œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤!

``` sh
$ git commit -S -m "#IssueNumber"
```

ì´ì œ GPG í‚¤ë¥¼ ë§Œë“¤ ë•Œ ì„¤ì •í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ ì„œëª…ê³¼ í•¨ê»˜ ì»¤ë°‹ì´ ì™„ë£Œë©ë‹ˆë‹¤!

## ì°¸ê³ ìë£Œ

1. https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/about-commit-signature-verification